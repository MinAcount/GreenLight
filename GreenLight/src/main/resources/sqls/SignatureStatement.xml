<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.green.light.model.mapper.SignatureDaoImpl">

<select id="selectAllSign" resultType="SignVo">
SELECT SIGNNO ,ID ,SAVE_SIGN ,MAIN 
        FROM SIGNLIST s
        WHERE ID =#{id}
</select>

<insert id="insertSign" parameterType="SignVo">
INSERT INTO SIGNLIST (SIGNNO, ID, SAVE_SIGN, MAIN)
		VALUES ((SELECT NVL(MAX(SIGNNO)+1, 0) FROM SIGNLIST), #{id}, #{save_sign}, #{main})
</insert>

<delete id="delSign">
DELETE FROM SIGNLIST
		WHERE ID = #{id} AND SIGNNO = #{signno}
</delete>
<update id="changeMainSign">
UPDATE SIGNLIST
		SET MAIN = 'N'
		WHERE ID = #{id}
</update>

<update id="setMainSign">
UPDATE SIGNLIST
		SET MAIN = 'Y'
		WHERE ID = #{id} AND SIGNNO = #{signno}
</update>
</mapper>
